(function(e,r,t){"use strict";function s(r,t){this.element=r,this.options=e.extend(!0,{},n,t),this._defaults=n,this._name=i,this.init()}var i="Form",n={displayMessages:!0,listMessages:!0,listTitle:"Errors were found in the form:",errorMessagesClass:"form-error-message",errorMessageElement:"p",errorMessages:{required:"Fields marked * are required",tel:"Enter a valid phone number",dob:"Enter a valid date of birth",email:"Enter a valid email address"},patterns:{email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",tel:"[\\w\\d\\s\\(\\)\\.+-]+"},fail:function(){},pass:!1};s.prototype={init:function(){var r=this;e(this.element).find("input[type=submit]").on("click",function(e){e.preventDefault(),r.clearErrors().clearPlaceholders().test()}),this.placeHolders()},clearPlaceholders:function(){return e(this.element).find(".form-placeholder").each(function(r,t){e(t)[0].value===e(t).attr("placeholder")&&(e(t)[0].value="")}),this},placeHolders:function(){var r="placeholder"in t.createElement("input"),s=e(this.element).find(":input:not(:hidden, :submit)"),i=(s.length,function(){e(this)[0].value=""}),n=function(){e(this)[0].value=e(this).attr("placeholder")};r||e.each(s,function(r,t){void 0!==e(t).attr("placeholder")&&(e(t)[0].value=e(t).attr("placeholder"),e(t).addClass("form-placeholder"),e([t]).on("focus",i).on("blur",n))})},write:function(r){var t=this;return e("<"+t.options.errorMessageElement+"/>").text(r)},clearErrors:function(){var r=this;return e(r.element).find(".form-error-list").length&&e(r.element).find(".form-error-list").remove(),e(r.element).find(".form-error").length&&(e(r.element).find(".form-error").removeClass("form-error"),e(r.element).find(".form-error-message").remove()),this},listErrorMessages:function(){var r,t=this,s=e('<dl class="form-error-list"><dt>'+t.options.listTitle+"</dt><dd><ul></ul></dd></dl>"),i=t.errors.length,n={};for(r=0;i>r;r+=1)n[t.errors[r][1]]=t.options.errorMessages[t.errors[r][1]];for(r in n)n.hasOwnProperty(r)&&e(s).find("ul").append("<li>"+n[r]+"</li>");e(t.element).prepend(s)},displayErrorMessages:function(){var r,t,s=this,i=s.errors.length;for(r=0;i>r;r+=1)t=s.write(s.options.errorMessages[s.errors[r][1]]),e("#"+s.errors[r][0]).after(e(t).addClass(s.options.errorMessagesClass))},test:function(){var r,t=this;this.errors=[],e(this.element).find(":input").each(function(){var r,s,i,n=e(this);"hidden"===n.attr("type")||n.attr("novalidate")||"submit"===n.attr("type")||(!n.attr("required")||""!==n.val()&&e.trim(n.val())?n.attr("required")&&(r=n.attr("type"),i=n.attr("pattern")||t.options.patterns[r],void 0!==i&&(s=RegExp(i,""),s.test(n.val())||(n.addClass("form-error"),t.errors.push([e(n).attr("id"),r])))):(n.addClass("form-error"),t.errors.push([e(n).attr("id"),"required"])))}),t.errors.length?(t.options.displayMessages&&(t.options.listMessages?t.listErrorMessages():t.displayErrorMessages()),this.placeHolders(),this.options.fail.call()):r=this.options.pass?this.options.pass.call():e(this.element).submit()}},e.fn[i]=function(r){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new s(this,r))})}})(jQuery,window,document,void 0);