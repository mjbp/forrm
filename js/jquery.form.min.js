(function(e,t,r){"use strict";function s(t,r){this.element=t,this.options=e.extend(!0,{},i,r),this._defaults=i,this._name=n,this.init()}var n="Form",i={displayMessages:!0,listMessages:!1,listTitle:"Errors were found in the form:",errorMessagesClass:"form-error-message",errorMessageElement:"p",errorMessages:{required:"Fields marked * are required",tel:"Enter a valid phone number",dob:"Enter a valid date of birth",email:"Enter a valid email address"},patterns:{email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",tel:"[\\w\\d\\s\\(\\)\\.+-]+"},fail:function(){},pass:!1};s.prototype={init:function(){var t=this;e(this.element).find("input[type=submit]").on("click",function(e){e.preventDefault(),t.clearErrors().clearPlaceholders().test()}),this.placeHolders()},clearPlaceholders:function(){return e(this.element).find(".form-placeholder").each(function(t,r){e(r)[0].val()===e(r).attr("placeholder")&&e(r)[0].val("")}),this},placeHolders:function(){var t="placeholder"in r.createElement("input"),s=e(this.element).find(":input:not(:hidden, :submit)"),n=(s.length,function(){e(this)[0].val("")}),i=function(){e(this)[0].val(e(this).attr("placeholder"))};t||e.each(s,function(t,r){void 0!==e(r).attr("placeholder")&&(e(r)[0].val(e(r).attr("placeholder")),e(r).addClass("form-placeholder"),e([r]).on("focus",n).on("blur",i))})},write:function(t){var r=this;return e("<"+r.options.errorMessageElement+' role="alert"/>').addClass(r.options.errorMessagesClass).text(t)},clearErrors:function(){var t=this;return e(t.element).find(".form-error-list").length&&e(t.element).find(".form-error-list").remove(),e(t.element).find(".form-error").length&&(e(t.element).find(".form-error").removeClass("form-error"),e(t.element).find(".form-error-message").remove()),this},listErrorMessages:function(){var t,r=this,s=e('<dl class="form-error-list"><dt>'+r.options.listTitle+"</dt><dd><ul></ul></dd></dl>"),n=r.errors.length,i={};for(t=0;n>t;t+=1)i[r.errors[t][1]]=r.options.errorMessages[r.errors[t][1]];for(t in i)i.hasOwnProperty(t)&&e(s).find("ul").append("<li>"+i[t]+"</li>");e(r.element).prepend(s)},displayErrorMessages:function(){var t,r,s,n=this,i=n.errors.length;for(t=0;i>t;t+=1)s=n.write(n.options.errorMessages[n.errors[t][1]]),r=e("#"+n.errors[t][0]).length>0?e("#"+n.errors[t][0]):e("[name="+n.errors[t][0]+"]").first(),0===e(r).parent().find("."+n.options.errorMessagesClass).length&&e(r).after(s)},addError:function(t,r,s){var n,i,o=this,a=t;n=s?e(a).attr("name"):e(a).attr("id"),i=s?e(a).parent():e(a),e(i).addClass("form-error"),e(a).attr("aria-invalid","true"),o.errors.push([n,r])},test:function(){var t,s,n=this,i={};this.errors=[],e(this.element).find(":input").each(function(){var t,r,s,o=e(this);"hidden"!==o.attr("type")&&void 0===o.attr("novalidate")&&"submit"!==o.attr("type")&&void 0!==o.attr("required")&&(o.attr("aria-invalid",!1),""===o.val()?n.addError(o,"required"):"radio"===o.attr("type")||"checkbox"===o.attr("type")?o.is(":checked")?i[o.attr("name")]="checked":"checked"!==i[o.attr("name")]&&(i[o.attr("name")]="not-checked"):(t=o.attr("type"),s=o.attr("pattern")||n.options.patterns[t],void 0!==s&&(r=RegExp(s,""),r.test(o.val())||n.addError(o,t))))}),e.each(i,function(t,i){"not-checked"===i&&(s=r.getElementsByName(t),e.each(s,function(e){n.addError(s[e],"required",!0)}))}),n.errors.length?(n.options.displayMessages&&(n.options.listMessages?n.listErrorMessages():n.displayErrorMessages()),this.placeHolders(),this.options.fail.call()):t=this.options.pass?this.options.pass.call():e(this.element).submit()}},e.fn[n]=function(t){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new s(this,t))})}})(jQuery,window,document,void 0);