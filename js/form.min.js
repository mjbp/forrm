(function(e,t,r){"use strict";"function"==typeof define&&define.amd?define(r):t[e]=r()})("Form",this,function(e,t){"use strict";function r(e,t){var s;for(s in t)t.hasOwnProperty(s)&&(t[s]&&t[s].constructor&&t[s].constructor===Object?(e[s]=e[s]||{},r(e[s],t[s])):e[s]=t[s]);return e}function s(e,t){this.element=e,this.options=r(i,t),this.init()}e=e||"Form",t=t||this;var i={displayMessages:!1,errorMessagesClass:"error-message",errorTemplate:"<p></p>",errorMessages:{missing:"Fields marked * are required",phone:"Please enter a valid phone number",dob:"Please enter a valid date of birth",email:"Please enter a valid email address"},patterns:{email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",tel:"[\\w\\d\\s\\(\\)\\.+-]+"},no:function(){},yes:!1};return s.prototype={init:function(){this.element.querySelector("input[type=submit]").addEventListener("click",this,!1)},handleEvent:function(e){"click"===e.type&&(e.preventDefault(),this.clearErrors().test())},write:function(e){return this.options.errorTemplate.replace(/></,">"+e+"<")},clearErrors:function(){var e,t=this.element.querySelectorAll("input, textarea"),r=t.length;for(e=0;r>e;e+=1)t[e].className=t[e].className.replace(/\serror/g,"");return this},displayErrorMessages:function(){},test:function(){var e,t,r,s,i,n,a,o,l=this;for(this.errors=[],e=this.element.querySelectorAll("input, textarea"),a=e.length,n=0;a>n;n+=1)t=e[n],"hidden"!==t.getAttribute("type")&&null===t.getAttribute("novalidate")&&"submit"!==t.getAttribute("type")&&(null!==t.getAttribute("required")&&""===t.value?(t.className+=" error",l.errors.push([t.getAttribute("id"),"missing"])):null!==t.getAttribute("required")&&(r=t.getAttribute("type"),s=t.getAttribute("pattern")||l.options.patterns[r],i=RegExp(s,""),i.test(t.value)||(t.className+=" error",l.errors.push([t.getAttribute("id"),r]))));l.errors.length?(l.options.displayMessages&&l.displayErrorMessages(),this.options.no.call()):o=this.options.yes?this.options.yes.call():this.element.submit()}},{init:function(e,t){var r,i=document.querySelectorAll(e),n=[],a=i.length;for(r=0;a>r;r+=1)n[r]=new s(i[r],t)}}});